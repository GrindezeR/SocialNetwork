(this.webpackJsonpsocial=this.webpackJsonpsocial||[]).push([[0],{10:function(e,t,a){e.exports={navigation:"Navigation_navigation__2Cfrm",item:"Navigation_item__2ZcpF",activeLink:"Navigation_activeLink__1Veaa"}},102:function(e,t,a){"use strict";a.r(t);var s=a(39),r=a.n(s),n=a(8),i=a(1),c=a.n(i),o=a(20),u=a(21),l=a(22),p=a(23),d=(a(76),a(10)),j=a.n(d),b=a(5),f=a(36),g=a.n(f),m=a(0);var O=function(e){var t=e.friends.map((function(e){return Object(m.jsxs)("div",{children:[Object(m.jsx)("img",{className:g.a.avatar,src:e.avatar,alt:"avatar"}),Object(m.jsx)("span",{children:e.name})]},e.id)}));return Object(m.jsxs)("div",{className:g.a.friendWrapper,children:[Object(m.jsx)("hr",{}),Object(m.jsx)("span",{className:g.a.friends,children:"Friends"}),Object(m.jsx)("div",{className:g.a.friendListWrapper,children:t}),Object(m.jsx)("hr",{})]})},h=Object(b.b)((function(e){return{friends:e.sideBar}}),(function(e){return{}}))(O);var x=function(){return Object(m.jsxs)("div",{className:j.a.navigation,children:[Object(m.jsx)("div",{className:j.a.item,children:Object(m.jsx)(n.b,{to:"/profile",activeClassName:j.a.activeLink,children:"Profile"})}),Object(m.jsx)("div",{className:j.a.item,children:Object(m.jsx)(n.b,{to:"/dialogs",activeClassName:j.a.activeLink,children:"Messages"})}),Object(m.jsx)("div",{className:j.a.item,children:Object(m.jsx)(n.b,{to:"/news",activeClassName:j.a.activeLink,children:"News"})}),Object(m.jsx)("div",{className:j.a.item,children:Object(m.jsx)(n.b,{to:"/music",activeClassName:j.a.activeLink,children:"Music"})}),Object(m.jsx)("div",{className:j.a.item,children:Object(m.jsx)(n.b,{to:"/settings",activeClassName:j.a.activeLink,children:"Settings"})}),Object(m.jsx)("div",{className:j.a.item,children:Object(m.jsx)(n.b,{to:"/users",activeClassName:j.a.activeLink,children:"Find Users"})}),Object(m.jsx)("div",{className:j.a.friends,children:Object(m.jsx)(h,{})})]})},_=a(6),v=a(44),w=a.n(v),P=a.p+"static/media/avatar.243c9071.webp",N=a(35),S=a.n(N);var E=function(e){return Object(m.jsxs)("div",{className:S.a.wrapper,children:[Object(m.jsx)("div",{className:S.a.avatar,children:Object(m.jsx)("img",{src:P,alt:"avatar"})}),Object(m.jsx)("div",{className:S.a.angle}),Object(m.jsx)("div",{className:S.a.message,children:Object(m.jsx)("span",{className:S.a.text,children:e.message})})]})},A=a.p+"static/media/dialogAvatar.e005b6fd.png",k=a(64),y=a.n(k);var L=function(e){return Object(m.jsxs)(n.b,{className:y.a.wrapper,to:"/dialogs/".concat(e.id),children:[Object(m.jsx)("img",{src:A,alt:"dialogAvatar"}),Object(m.jsx)("span",{children:e.name})]})},U=a(2),T=a(25),I=a(45),C=a.n(I),F=a(43),D=a(49),R=a.n(D),W=["form","field","ClassName","placeholder"],M=function(e){var t=e.form,a=t.touched,s=t.errors,r=e.field,n=e.ClassName,i=e.placeholder,c=Object(F.a)(e,W),o=a&&s[r.name]?"".concat(n," ").concat(R.a.error):n;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("input",Object(U.a)(Object(U.a)({placeholder:i,className:o},r),c)),Object(m.jsx)("div",{className:R.a.errorText,children:a&&s[r.name]})]})},B=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}},G=function(e){var t=e.addMessage,a=function(e){return Object(m.jsx)(M,Object(U.a)({ClassName:C.a.customInput,placeholder:"Type you message"},e))};return Object(m.jsx)(T.c,{initialValues:{message:""},onSubmit:function(e,a){t(e.message),a.resetForm(),a.setSubmitting(!1)},children:function(e){e.errors;return Object(m.jsxs)(T.b,{className:C.a.messageSendWrapper,children:[Object(m.jsx)(T.a,{name:"message",validate:B(3),children:a}),Object(m.jsx)("div",{children:Object(m.jsx)("button",{className:C.a.submitBtn,type:"submit",children:"Send"})})]})}})};var z=function(e){var t=e.dialogsNamesData.map((function(e){return Object(m.jsx)(L,{id:e.id,name:e.name},e.id)})),a=e.dialogsMessagesData.map((function(e){return Object(m.jsx)(E,{id:e.id,message:e.message},e.id)}));return Object(m.jsxs)("div",{className:w.a.dialogsWrapper,children:[Object(m.jsx)("div",{className:w.a.dialogItems,children:Object(m.jsx)("span",{children:t})}),Object(m.jsxs)("div",{className:w.a.messages,children:[Object(m.jsx)("div",{children:Object(m.jsx)("span",{children:a})}),Object(m.jsx)(G,{addMessage:e.addMessage})]})]})},H=a(31),V=a(103),J={dialogsNamesData:[{id:Object(V.a)(),name:"Alex"},{id:Object(V.a)(),name:"Bob"},{id:Object(V.a)(),name:"Tom"},{id:Object(V.a)(),name:"John"}],dialogsMessagesData:[{id:Object(V.a)(),message:"Hello"},{id:Object(V.a)(),message:"How are you?"},{id:Object(V.a)(),message:"Lets go!"},{id:Object(V.a)(),message:"Hi all!"},{id:Object(V.a)(),message:"Its work..."}]},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;return"DIALOG/ADD-MESSAGE"===t.type&&""!==t.newMessage.trim()?Object(U.a)(Object(U.a)({},e),{},{dialogsMessagesData:[].concat(Object(H.a)(e.dialogsMessagesData),[{id:Object(V.a)(),message:t.newMessage}])}):e},q=a(24),Y=["isAuth"];function Q(e){return Object(b.b)((function(e){return{isAuth:e.auth.isAuth}}))((function(t){var a=t.isAuth,s=Object(F.a)(t,Y);return a?Object(m.jsx)(e,Object(U.a)({},s)):Object(m.jsx)(_.a,{to:"/login"})}))}var K,X=Object(q.c)(Object(b.b)((function(e){return{dialogsNamesData:e.dialogsPage.dialogsNamesData,dialogsMessagesData:e.dialogsPage.dialogsMessagesData}}),(function(e){return{addMessage:function(t){return e(function(e){return{type:"DIALOG/ADD-MESSAGE",newMessage:e}}(t))}}})),Q)(z),$=a(11),ee=a(4),te=a.n(ee),ae=a(67),se=a.n(ae);!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(K||(K={}));var re=se.a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"761e6f2b-b609-440b-9ec5-0bbc9398cba5"}}),ne=function(e,t){return re.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},ie=function(e){return re.post("follow/".concat(e),{}).then((function(e){return e.data}))},ce=function(e){return re.delete("follow/".concat(e)).then((function(e){return e.data}))},oe=function(){return re.get("auth/me").then((function(e){return e.data}))},ue=function(e,t,a){return re.post("auth/login",{email:e,password:t,rememberMe:a}).then((function(e){return e.data}))},le=function(){return re.delete("auth/login").then((function(e){return e.data}))},pe=function(e){return re.get("profile/".concat(e)).then((function(e){return e.data}))},de=function(e){return re.get("profile/status/".concat(e))},je=function(e){return re.put("profile/status",{status:e}).then((function(e){return e.data}))},be={users:[],currentPage:1,pageLimit:10,totalUsersCount:200,isFetching:!1,followingInProgress:[]},fe=function(e){return{type:"USER/FOLLOW-TOGGLE",userId:e}},ge=function(e){return{type:"USER/SET-CURRENT-PAGE",number:e}},me=function(e){return{type:"USER/SET-FETCHING",status:e}},Oe=function(e,t){return{type:"USER/FOLLOWING-PROGRESS",isLoading:e,userId:t}},he=a(29),xe=a.n(he),_e=function(e){for(var t=e.totalCount,a=e.pageSize,s=e.currentPage,r=e.getUsers,n=Math.ceil(t/a),i=[],c=1;c<=n;c++)i.push(c);var o=i.map((function(e){return Object(m.jsx)("span",{className:s===e?xe.a.currentPage:xe.a.page,onClick:function(){return r(e)},children:e},e)}));return Object(m.jsxs)("div",{className:xe.a.pagesWrapper,children:[Object(m.jsx)("span",{className:xe.a.page,onClick:function(){return r(1)},children:"<<"}),Object(m.jsx)("span",{className:xe.a.page,onClick:function(){return r(s-1)},children:"<"}),Object(m.jsx)("div",{className:xe.a.pageList,children:o}),Object(m.jsx)("span",{className:xe.a.page,onClick:function(){return r(s+1)},children:">"}),Object(m.jsx)("span",{className:xe.a.page,onClick:function(){return r(n)},children:">>"})]})},ve=a(19),we=a.n(ve),Pe=a.p+"static/media/noAvatar.e005b6fd.png",Ne=function(e){var t=e.user,a=e.followingUsers,s=e.unfollowingUsers,r=e.followingInProgress,i=t.followed?Object(m.jsx)("button",{disabled:r.some((function(e){return e===t.id})),onClick:function(){return s(t.id)},className:we.a.unfollowBtn,children:"Unfollow"}):Object(m.jsx)("button",{disabled:r.some((function(e){return e===t.id})),onClick:function(){return a(t.id)},className:we.a.followBtn,children:"Follow"});return Object(m.jsxs)("div",{className:we.a.userWrapper,children:[Object(m.jsxs)("div",{className:we.a.avatarWrapper,children:[Object(m.jsx)(n.b,{to:"/profile/".concat(t.id),children:Object(m.jsx)("img",{className:we.a.avatar,src:t.photos.small?t.photos.small:Pe,alt:"avatar"})}),i]}),Object(m.jsxs)("div",{className:we.a.userDataWrapper,children:[Object(m.jsx)("span",{className:we.a.name,children:t.name}),Object(m.jsx)("span",{className:we.a.location,children:"u.location.country"}),Object(m.jsx)("span",{className:we.a.location,children:"u.location.city"}),Object(m.jsx)("span",{className:we.a.statusMessage,children:t.status})]})]})},Se=function(e){var t=e.users.map((function(t){return Object(m.jsx)(Ne,{user:t,followingUsers:e.followingUsers,unfollowingUsers:e.unfollowingUsers,followingInProgress:e.followingInProgress},t.id)}));return Object(m.jsxs)("div",{children:[Object(m.jsx)(_e,{totalCount:e.totalCount,pageSize:e.pageSize,currentPage:e.currentPage,getUsers:e.getUsers}),t]})},Ee=a(68),Ae=a.n(Ee),ke=function(){return Object(m.jsx)("div",{className:Ae.a.preloader})},ye=function(e){return e.usersPage.users},Le=function(e){return e.usersPage.pageLimit},Ue=function(e){return e.usersPage.totalUsersCount},Te=function(e){return e.usersPage.currentPage},Ie=function(e){return e.usersPage.followingInProgress},Ce=function(e){return e.usersPage.isFetching},Fe=function(e){Object(l.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(o.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).getUsers=function(t){e.props.getUsers(t,e.props.pageLimit)},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageLimit)}},{key:"render",value:function(){return Object(m.jsxs)(m.Fragment,{children:[this.props.isFetching&&Object(m.jsx)(ke,{}),Object(m.jsx)(Se,{users:this.props.users,totalCount:this.props.totalCount,pageSize:this.props.pageLimit,currentPage:this.props.currentPage,getUsers:this.getUsers,followingInProgress:this.props.followingInProgress,followingUsers:this.props.followingUsers,unfollowingUsers:this.props.unfollowingUsers})]})}}]),a}(c.a.Component),De=Object(q.c)(Object(b.b)((function(e){return{users:ye(e),pageLimit:Le(e),totalCount:Ue(e),currentPage:Te(e),followingInProgress:Ie(e),isFetching:Ce(e)}}),{followToggle:fe,setCurrentPage:ge,setFollowingInProgress:Oe,getUsers:function(e,t){return function(){var a=Object($.a)(te.a.mark((function a(s){var r;return te.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s(me(!0)),s(ge(e)),a.next=4,ne(e,t);case 4:r=a.sent,s({type:"USER/SET-USERS",users:r.items}),s(me(!1));case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},followingUsers:function(e){return function(){var t=Object($.a)(te.a.mark((function t(a){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(Oe(!0,e)),t.next=3,ie(e);case 3:t.sent.resultCode===K.Success&&(a(fe(e)),a(Oe(!1,e)));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollowingUsers:function(e){return function(){var t=Object($.a)(te.a.mark((function t(a){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(Oe(!0,e)),t.next=3,ce(e);case 3:t.sent.resultCode===K.Success&&(a(fe(e)),a(Oe(!1,e)));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}))(Fe),Re={userId:null,email:null,login:null,isAuth:!1,remember:!1,password:"",error:""},We=function(e,t,a,s){return{type:"AUTH/SET-USER-DATA",payload:{userId:e,email:t,login:a,isAuth:s}}},Me=function(e){return{type:"AUTH/SET-ERROR",error:e}},Be=function(){return function(){var e=Object($.a)(te.a.mark((function e(t){var a,s,r,n,i;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(ze(!0)),e.next=3,oe();case 3:(a=e.sent).resultCode===K.Success&&(s=a.data,r=s.id,n=s.email,i=s.login,t(We(r,n,i,!0))),t(ze(!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ge={initialized:!1,loading:!1},ze=function(e){return{type:"APP/SET-LOADING",status:e}},He={postData:[{id:Object(V.a)(),message:"Hello ALL!",likesCount:15},{id:Object(V.a)(),message:"How are you?",likesCount:30},{id:Object(V.a)(),message:"LOL",likesCount:230}],profile:{aboutMe:"",contacts:{facebook:"",website:"",vk:"",twitter:"",instagram:"",youtube:"",github:"",mainLink:""},lookingForAJob:!1,lookingForAJobDescription:"",fullName:"",userId:0,photos:{small:"",large:""}},status:""},Ve=function(e){return{type:"PROFILE/SET-STATUS-PROFILE",status:e}},Je=a(69),Ze=a.n(Je),qe=a(13),Ye=a.n(qe),Qe=a.p+"static/media/workYes.65e14c93.png",Ke=a.p+"static/media/workNo.b9f3c2ef.png",Xe=a(70),$e=a.n(Xe),et=function(e){Object(l.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(o.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).state={editMode:!1,inputValue:e.props.status},e.activateEdit=function(){e.setState({editMode:!0})},e.deactivateEdit=function(){e.setState({editMode:!1}),e.state.inputValue!==e.props.status&&e.props.updateProfileStatus(e.state.inputValue)},e.deactivateEditEnter=function(t){"Enter"===t.key&&e.deactivateEdit()},e}return Object(u.a)(a,[{key:"componentDidUpdate",value:function(e,t){e.status!==this.props.status&&this.setState({inputValue:this.props.status})}},{key:"render",value:function(){var e=this;return Object(m.jsx)(m.Fragment,{children:this.state.editMode?Object(m.jsx)("input",{value:this.state.inputValue,autoFocus:!0,onBlur:this.deactivateEdit,onChange:function(t){e.setState({inputValue:t.currentTarget.value})},onKeyPress:this.deactivateEditEnter,onFocus:function(e){e.currentTarget.select()}}):Object(m.jsx)("span",{className:$e.a.status,onDoubleClick:this.activateEdit,children:this.props.status||"No status"})})}}]),a}(c.a.PureComponent);var tt=function(e){var t=e.profile,a=e.status;return Object(m.jsxs)("div",{className:Ye.a.wrapper,children:[Object(m.jsx)("div",{children:Object(m.jsx)("img",{className:Ye.a.profileAvatar,src:t.photos.large?t.photos.large:P,alt:"Avatar"})}),Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:Ye.a.name,children:[t.fullName,Object(m.jsx)(et,{status:a,updateProfileStatus:e.updateProfileStatus})]}),Object(m.jsxs)("ul",{children:[Object(m.jsxs)("li",{className:Ye.a.li,children:[Object(m.jsx)("span",{children:"About Me:"})," ",t.aboutMe]}),Object(m.jsxs)("li",{className:Ye.a.li,children:[Object(m.jsx)("span",{children:"Looking for job:"}),Object(m.jsx)("img",{src:t.lookingForAJob?Qe:Ke,width:"20px",alt:"job"})]}),Object(m.jsxs)("li",{className:Ye.a.li,children:[Object(m.jsx)("span",{children:"Description for job:"})," ",t.lookingForAJobDescription]}),Object(m.jsxs)("li",{className:Ye.a.li,children:[Object(m.jsx)("span",{children:"VK:"})," ",t.contacts.vk]}),Object(m.jsxs)("li",{className:Ye.a.li,children:[Object(m.jsx)("span",{children:"Facebook:"})," ",t.contacts.facebook]}),Object(m.jsxs)("li",{className:Ye.a.li,children:[Object(m.jsx)("span",{children:"Website:"})," ",t.contacts.website]}),Object(m.jsxs)("li",{className:Ye.a.li,children:[Object(m.jsx)("span",{children:"Twitter:"})," ",t.contacts.twitter]}),Object(m.jsxs)("li",{className:Ye.a.li,children:[Object(m.jsx)("span",{children:"Instagram:"})," ",t.contacts.instagram]}),Object(m.jsxs)("li",{className:Ye.a.li,children:[Object(m.jsx)("span",{children:"Youtube:"})," ",t.contacts.youtube]}),Object(m.jsxs)("li",{className:Ye.a.li,children:[Object(m.jsx)("span",{children:"GitHub:"})," ",t.contacts.github]})]})]})]})},at=a(26),st=a.n(at);var rt=function(e){return Object(m.jsx)("div",{className:st.a.post,children:Object(m.jsxs)("div",{className:st.a.messagePost,children:[Object(m.jsxs)("div",{className:st.a.likeWrapper,children:[Object(m.jsx)("img",{className:st.a.profileAvatar,src:P,alt:"Avatar"}),Object(m.jsx)("div",{className:st.a.like,children:"Like"}),Object(m.jsx)("div",{className:st.a.countLike,children:e.likesCount})]}),Object(m.jsxs)("div",{className:st.a.bubbleWrapper,children:[Object(m.jsx)("div",{className:st.a.angle}),Object(m.jsx)("span",{className:st.a.messageText,children:e.message})]})]})})},nt=a(34),it=a.n(nt),ct=function(e){var t=e.addPost;return Object(m.jsx)(T.c,{initialValues:{newPostText:""},onSubmit:function(e,a){t(e.newPostText),a.resetForm(),a.setSubmitting(!1)},validateOnBlur:!1,children:Object(m.jsxs)(T.b,{className:it.a.newPost,children:[Object(m.jsx)(T.a,{name:"newPostText",validate:B(5),placeholder:"Type your post",children:function(e){return Object(m.jsx)(M,Object(U.a)({ClassName:it.a.customInput,placeholder:"Type your post"},e))}}),Object(m.jsx)("button",{className:it.a.submitButton,type:"submit",children:"Send"})]})})};var ot=function(e){var t=e.postsData.map((function(e){return Object(m.jsx)(rt,{id:e.id,message:e.message,likesCount:e.likesCount},e.id)}));return Object(m.jsxs)("div",{className:it.a.wrapper,children:[Object(m.jsx)(ct,{addPost:e.addPost}),Object(m.jsx)("div",{children:t})]})},ut=Object(b.b)((function(e){return{postsData:e.profilePage.postData}}),(function(e){return{addPost:function(t){return e(function(e){return{type:"PROFILE/ADD-POST",newPostText:e}}(t))}}}))(ot);var lt=function(e){return Object(m.jsxs)("div",{className:Ze.a.profileWallpaper,children:[Object(m.jsx)(tt,{profile:e.profile,updateProfileStatus:e.updateProfileStatus,status:e.status}),Object(m.jsx)(ut,{})]})},pt=function(e){Object(l.a)(a,e);var t=Object(p.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authUserId.toString()),this.props.getUsersProfile(e),this.props.getProfileStatus(e)}},{key:"render",value:function(){return Object(m.jsxs)(m.Fragment,{children:[!this.props.profile&&Object(m.jsx)(ke,{}),Object(m.jsx)(lt,Object(U.a)({},this.props))]})}}]),a}(c.a.Component),dt=Object(q.c)(Object(b.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authUserId:e.auth.userId}}),{getUsersProfile:function(e){return function(){var t=Object($.a)(te.a.mark((function t(a){var s;return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(ze(!0)),t.next=3,pe(e);case 3:s=t.sent,a({type:"PROFILE/SET-USERS-PROFILE",profile:s}),a(ze(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getProfileStatus:function(e){return function(){var t=Object($.a)(te.a.mark((function t(a){var s;return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(ze(!0)),t.next=3,de(e);case 3:s=t.sent,a(Ve(s.data)),a(ze(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateProfileStatus:function(e){return function(){var t=Object($.a)(te.a.mark((function t(a){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(ze(!0)),t.next=3,je(e);case 3:t.sent.resultCode===K.Success&&a(Ve(e)),a(ze(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),_.f,Q)(pt),jt=a(32),bt=a.n(jt),ft=a.p+"static/media/logo.22f4aac7.png",gt=function(e){return Object(m.jsxs)("header",{className:bt.a.header,children:[Object(m.jsx)("img",{src:ft,alt:"logo"}),Object(m.jsx)("div",{className:bt.a.loginWrapper,children:e.isAuth?Object(m.jsxs)(c.a.Fragment,{children:[e.login,Object(m.jsx)(n.b,{className:bt.a.login,to:"/login",children:Object(m.jsx)("button",{className:bt.a.logBtn,onClick:e.logout,children:"Log out"})})]}):Object(m.jsx)(n.b,{className:bt.a.login,to:"/login",children:Object(m.jsx)("button",{className:bt.a.logBtn,children:"Login"})})})]})},mt=function(e){Object(l.a)(a,e);var t=Object(p.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(m.jsx)(gt,Object(U.a)({},this.props))}}]),a}(c.a.Component),Ot=Object(b.b)((function(e){return{login:e.auth.login,isAuth:e.auth.isAuth}}),{getAuthUserData:Be,logout:function(){return function(){var e=Object($.a)(te.a.mark((function e(t){var a,s;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(ze(!0)),e.next=3,le();case 3:(a=e.sent).resultCode===K.Success?t(We(0,"","",!1)):a.resultCode===K.Error&&t(Me(null!==(s=a.messages[0])&&void 0!==s?s:"Unknown error")),t(ze(!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(mt),ht=a(18),xt=a.n(ht),_t=function(){var e=Object(b.c)(),t=Object(b.d)((function(e){return e.auth.error})),a=Object(T.d)({initialValues:{email:"",password:"",remember:!1},onSubmit:function(t){var s=t.email,r=t.password,n=t.remember;e(function(e,t,a){return function(){var s=Object($.a)(te.a.mark((function s(r){var n,i;return te.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return r(ze(!0)),s.next=3,ue(e,t,a);case 3:(n=s.sent).resultCode===K.Success?r(Be()):n.resultCode===K.Error&&r(Me(null!==(i=n.messages[0])&&void 0!==i?i:"Unknown error")),r(ze(!1));case 6:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()}(s,r,n)),a.resetForm()},validate:function(e){!function(e,t,a){e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Email is required",e.password?e.password.length<a&&(t.password="Min length ".concat(a," characters")):t.password="Password required"}(e,{},3)}});return Object(m.jsxs)("form",{className:xt.a.formWrapper,onSubmit:a.handleSubmit,children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{children:"Email"}),Object(m.jsx)("input",Object(U.a)({className:xt.a.inputs,placeholder:"Type email"},a.getFieldProps("email"))),a.touched.email&&a.errors.email&&Object(m.jsx)("span",{className:xt.a.error,children:a.errors.email})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{children:"Password"}),Object(m.jsx)("input",Object(U.a)({className:xt.a.inputs,type:"password",placeholder:"Type password"},a.getFieldProps("password"))),a.touched.password&&a.errors.password&&Object(m.jsx)("span",{className:xt.a.error,children:a.errors.password})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("input",Object(U.a)({type:"checkbox"},a.getFieldProps("remember"))),Object(m.jsx)("span",{children:"Remember me"})]}),t&&Object(m.jsx)("div",{className:xt.a.error,children:t}),Object(m.jsx)("button",{className:xt.a.loginBtn,type:"submit",children:"LogIn"})]})},vt=function(){return Object(b.d)((function(e){return e.auth.isAuth}))?Object(m.jsx)(_.a,{to:"/profile"}):Object(m.jsxs)("div",{className:xt.a.wrapper,children:[Object(m.jsx)("div",{className:xt.a.title,children:"Login to Social Network"}),Object(m.jsx)(_t,{}),Object(m.jsxs)("div",{className:xt.a.infoAccount,children:[Object(m.jsx)("span",{children:"Free Account Data:"}),Object(m.jsx)("span",{children:"Email: free@samuraijs.com"}),Object(m.jsx)("span",{children:"Password: free"})]})]})},wt=function(e){Object(l.a)(a,e);var t=Object(p.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(m.jsxs)("div",{className:"app-wrapper",children:[this.props.loading&&Object(m.jsx)(ke,{}),Object(m.jsx)(Ot,{}),Object(m.jsx)(x,{}),Object(m.jsxs)("div",{className:"app-wrapper-content",children:[Object(m.jsx)(_.b,{path:"/",exact:!0,render:function(){return Object(m.jsx)(_.a,{to:"/profile"})}}),Object(m.jsx)(_.b,{render:function(){return Object(m.jsx)(dt,{})},path:"/profile/:userId?"}),Object(m.jsx)(_.b,{render:function(){return Object(m.jsx)(X,{})},path:"/dialogs"}),Object(m.jsx)(_.b,{render:function(){return Object(m.jsx)(De,{})},path:"/users"}),Object(m.jsx)(_.b,{render:function(){return Object(m.jsx)(vt,{})},path:"/login"})]})]}):Object(m.jsx)(ke,{})}}]),a}(i.Component),Pt=Object(b.b)((function(e){return{initialized:e.app.initialized,loading:e.app.loading}}),{initializeApp:function(){return function(){var e=Object($.a)(te.a.mark((function e(t){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Be());case 2:t({type:"APP/SET-INITIALIZED"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(wt),Nt=a.p+"static/media/orc.384b765a.jpg",St=a.p+"static/media/tau.f977cb78.jpg",Et=a.p+"static/media/chaos.07a1d1b8.jpg",At=[{id:Object(V.a)(),name:"Alex",avatar:Nt},{id:Object(V.a)(),name:"Bob",avatar:St},{id:Object(V.a)(),name:"Alise",avatar:Et}],kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At;return e},yt=a(71),Lt=Object(q.b)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/SET-INITIALIZED":return Object(U.a)(Object(U.a)({},e),{},{initialized:!0});case"APP/SET-LOADING":return Object(U.a)(Object(U.a)({},e),{},{loading:t.status});default:return e}},profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PROFILE/ADD-POST":return""!==t.newPostText.trim()?Object(U.a)(Object(U.a)({},e),{},{postData:[{id:Object(V.a)(),message:t.newPostText,likesCount:0}].concat(Object(H.a)(e.postData))}):e;case"PROFILE/SET-USERS-PROFILE":return Object(U.a)(Object(U.a)({},e),{},{profile:t.profile});case"PROFILE/SET-STATUS-PROFILE":return Object(U.a)(Object(U.a)({},e),{},{status:t.status});case"PROFILE/DELETE-POST":return Object(U.a)(Object(U.a)({},e),{},{postData:e.postData.filter((function(e){return e.id!==t.postId}))});default:return e}},dialogsPage:Z,sideBar:kt,usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER/SET-USERS":return Object(U.a)(Object(U.a)({},e),{},{users:Object(H.a)(t.users)});case"USER/FOLLOW-TOGGLE":return Object(U.a)(Object(U.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(U.a)(Object(U.a)({},e),{},{followed:!e.followed}):e}))});case"USER/SET-CURRENT-PAGE":return Object(U.a)(Object(U.a)({},e),{},{currentPage:t.number});case"USER/SET-TOTAL-USERS-COUNT":return Object(U.a)(Object(U.a)({},e),{},{totalUsersCount:t.number});case"USER/SET-FETCHING":return Object(U.a)(Object(U.a)({},e),{},{isFetching:t.status});case"USER/FOLLOWING-PROGRESS":return Object(U.a)(Object(U.a)({},e),{},{followingInProgress:t.isLoading?[].concat(Object(H.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH/SET-USER-DATA":return Object(U.a)(Object(U.a)({},e),t.payload);case"AUTH/SET-ERROR":return Object(U.a)(Object(U.a)({},e),{},{error:t.error});default:return e}}}),Ut=Object(q.d)(Lt,Object(q.a)(yt.a));window.store=Ut,r.a.render(Object(m.jsx)(n.a,{children:Object(m.jsx)(b.a,{store:Ut,children:Object(m.jsx)(Pt,{})})}),document.getElementById("root"))},13:function(e,t,a){e.exports={wrapper:"AboutProfile_wrapper__3eWB2",profileAvatar:"AboutProfile_profileAvatar__1_Rzo",name:"AboutProfile_name__DkEM7",li:"AboutProfile_li__1bX-J"}},18:function(e,t,a){e.exports={wrapper:"Login_wrapper__1wwAr",formWrapper:"Login_formWrapper__Shrny",loginBtn:"Login_loginBtn__291lV",inputs:"Login_inputs__3Q9x9",title:"Login_title__Bs2lV",error:"Login_error__tL9kr",infoAccount:"Login_infoAccount__2C5kD"}},19:function(e,t,a){e.exports={userWrapper:"User_userWrapper__1lsNz",userDataWrapper:"User_userDataWrapper__eOtYu",avatarWrapper:"User_avatarWrapper__T3rs1",avatar:"User_avatar__3UYTg",name:"User_name__2E-6e",location:"User_location__1Xtzx",statusMessage:"User_statusMessage__Ohi4C",followBtn:"User_followBtn__1aimT",unfollowBtn:"User_unfollowBtn__314FG"}},26:function(e,t,a){e.exports={profileAvatar:"Post_profileAvatar__3THsN",post:"Post_post__O1VTJ",messagePost:"Post_messagePost__2iPwu",bubbleWrapper:"Post_bubbleWrapper__2qSDu",messageText:"Post_messageText__3fhVU",angle:"Post_angle__2icZF",likeWrapper:"Post_likeWrapper__26jHo",like:"Post_like__1dwUy",countLike:"Post_countLike__1WGVl"}},29:function(e,t,a){e.exports={pagesWrapper:"Paginator_pagesWrapper__1m1QT",pageList:"Paginator_pageList__2y7qZ",currentPage:"Paginator_currentPage__PXPaz",page:"Paginator_page__L3I5_"}},32:function(e,t,a){e.exports={header:"Header_header__17EYn",loginWrapper:"Header_loginWrapper__u5Rwz",login:"Header_login__8qCA5",logBtn:"Header_logBtn__1zid8"}},34:function(e,t,a){e.exports={wrapper:"MyPosts_wrapper__qcq-B",textFieldWrapper:"MyPosts_textFieldWrapper__2KLeH",submitButton:"MyPosts_submitButton__2m_z-",customInput:"MyPosts_customInput__2pU2H",error:"MyPosts_error__QOg5T",newPost:"MyPosts_newPost__3u2zl"}},35:function(e,t,a){e.exports={wrapper:"Message_wrapper__3v-zb",message:"Message_message__1clby",angle:"Message_angle__34xyc",name:"Message_name__3WgN1",text:"Message_text__2Ca-j",time:"Message_time__1hATu",avatar:"Message_avatar__15FqR"}},36:function(e,t,a){e.exports={friendWrapper:"Friends_friendWrapper__1JoFk",friendListWrapper:"Friends_friendListWrapper__4eeNi",friends:"Friends_friends__vNeRE",avatar:"Friends_avatar__1eYQA"}},44:function(e,t,a){e.exports={dialogsWrapper:"Dialogs_dialogsWrapper__3bh0v",dialogItems:"Dialogs_dialogItems__1iCP5",dialog:"Dialogs_dialog__txHS4",messages:"Dialogs_messages__23B9s",message:"Dialogs_message__1QAEk"}},45:function(e,t,a){e.exports={messageSendWrapper:"DialogsForm_messageSendWrapper__15UYQ",submitBtn:"DialogsForm_submitBtn__2Z7R4",customInput:"DialogsForm_customInput__WGP73"}},49:function(e,t,a){e.exports={error:"FormsControls_error__2M93A",errorText:"FormsControls_errorText__14ubF"}},64:function(e,t,a){e.exports={wrapper:"DialogsItem_wrapper__1zHV-"}},68:function(e,t,a){e.exports={preloader:"Preloader_preloader__z3-5v",loading:"Preloader_loading__2Nxxp"}},69:function(e,t,a){e.exports={profileWallpaper:"Profile_profileWallpaper__3rF9G"}},70:function(e,t,a){e.exports={status:"ProfileStatus_status__2tu_m"}},76:function(e,t,a){}},[[102,1,2]]]);
//# sourceMappingURL=main.0d24011b.chunk.js.map