"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[89],{7929:function(e,t,s){s.d(t,{D:function(){return u}});var a=s(8683),r=s(5987),n=(s(2791),s(364)),o=s(9271),i=s(184),l=["isAuth"];function u(e){return(0,n.$j)((function(e){return{isAuth:e.auth.isAuth}}))((function(t){var s=t.isAuth,n=(0,r.Z)(t,l);return s?(0,i.jsx)(e,(0,a.Z)({},n)):(0,i.jsx)(o.l_,{to:"/login"})}))}},4967:function(e,t,s){s.d(t,{DT:function(){return a},ZA:function(){return r}});var a=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}},r=function(e,t,s){return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Email is required",e.password?e.password.length<s&&(t.password="Min length ".concat(s," characters")):t.password="Password required",t}},6534:function(e,t,s){s.d(t,{t:function(){return u}});var a=s(8683),r=s(5987),n=(s(2791),"FormsControls_error__kD7mL"),o="FormsControls_errorText__bBbMT",i=s(184),l=["form","field","ClassName","placeholder"],u=function(e){var t=e.form,s=t.touched,u=t.errors,c=e.field,d=e.ClassName,p=e.placeholder,f=(0,r.Z)(e,l),h=s&&u[c.name]?"".concat(d," ").concat(n):d;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("input",(0,a.Z)((0,a.Z)({placeholder:p,className:h},c),f)),(0,i.jsx)("div",{className:o,children:s&&u[c.name]})]})}},3089:function(e,t,s){s.r(t),s.d(t,{default:function(){return se}});var a=s(8683),r=s(5671),n=s(3144),o=s(136),i=s(5716),l=s(2791),u=s(364),c=s(7874),d=s(3495),p=s(7929),f=s(7781),h="Profile_profileWallpaper__pAbkD";var m=s(181);function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var s=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var a,r,n=[],o=!0,i=!1;try{for(s=s.call(e);!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(l){i=!0,r=l}finally{try{o||null==s.return||s.return()}finally{if(i)throw r}}return n}}(e,t)||(0,m.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var j=s(3169),x="AboutProfile_wrapper__lmPEy",_="AboutProfile_avatarWrapper__x6aOz",b="AboutProfile_error__pvsV5",P="AboutProfile_profileAvatar__rBSGW",g={title:"ProfileData_title__m4LU0",value:"ProfileData_value__TkoCK",name:"ProfileData_name__e3Em9",form:"ProfileData_form__GF0hw",saveBtn:"ProfileData_saveBtn__xC2es"},N="ProfileStatus_status__rGEb2",y=s(184),k=function(e){(0,o.Z)(s,e);var t=(0,i.Z)(s);function s(){var e;(0,r.Z)(this,s);for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={editMode:!1,inputValue:e.props.status},e.activateEdit=function(){e.setState({editMode:!0})},e.deactivateEdit=function(){e.setState({editMode:!1}),e.state.inputValue!==e.props.status&&e.props.updateProfileStatus(e.state.inputValue)},e.deactivateEditEnter=function(t){"Enter"===t.key&&e.deactivateEdit()},e}return(0,n.Z)(s,[{key:"componentDidUpdate",value:function(e,t){e.status!==this.props.status&&this.setState({inputValue:this.props.status})}},{key:"render",value:function(){var e=this;return(0,y.jsx)(y.Fragment,{children:this.state.editMode?(0,y.jsx)("input",{value:this.state.inputValue,autoFocus:!0,onBlur:this.deactivateEdit,onChange:function(t){e.setState({inputValue:t.currentTarget.value})},onKeyPress:this.deactivateEditEnter,onFocus:function(e){e.currentTarget.select()}}):(0,y.jsx)("span",{className:N,onDoubleClick:this.activateEdit,children:this.props.status||"No status"})})}}]),s}(l.PureComponent),A="ProfileContacts_title__XCebL",F="ProfileContacts_value__NejUU",Z="ProfileContacts_link__b2S64",S=function(e){var t=e.title,s=e.value;return(0,y.jsxs)("li",{className:A,children:[(0,y.jsxs)("span",{className:F,children:[t,":"]})," ",(0,y.jsx)("a",{className:Z,href:s,rel:"noreferrer",target:"_blank",children:s})]})},D=function(e){var t=e.profile,s=e.status,a=e.updateProfileStatus,r=Object.keys(t.contacts).map((function(e){return(0,y.jsx)(S,{title:e,value:t.contacts[e]},e)}));return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:g.name,children:[t.fullName,(0,y.jsx)(k,{status:s,updateProfileStatus:a})]}),(0,y.jsxs)("ul",{children:[(0,y.jsxs)("li",{className:g.title,children:[(0,y.jsx)("span",{className:g.value,children:"About Me:"})," ",t.aboutMe]}),(0,y.jsxs)("li",{className:g.title,children:[(0,y.jsx)("span",{className:g.value,children:"Looking for job:"}),t.lookingForAJob?"Yes":"No"]}),t.lookingForAJob&&(0,y.jsxs)("li",{className:g.title,children:[(0,y.jsx)("span",{className:g.value,children:"Description for job:"})," ",t.lookingForAJobDescription]}),(0,y.jsx)("li",{className:g.value,children:"Contacts:"}),(0,y.jsx)("ul",{children:r})]})]})},w=s(5705),C=s(8638),E=function(e){var t=e.profile,s=e.updateProfileData,r=e.setEditMode,n=function(e){return e.currentTarget.select()},o=(0,w.TA)({initialValues:{fullName:t.fullName,aboutMe:t.aboutMe,lookingForAJob:t.lookingForAJob,lookingForAJobDescription:t.lookingForAJobDescription,contacts:t.contacts},onSubmit:function(e){s(e).then((function(){o.resetForm(),r(!1)}))}}),i=Object.keys(t.contacts).map((function(e){return(0,y.jsxs)("li",{className:g.title,children:[(0,y.jsxs)("span",{className:g.value,children:[e,":"]}),(0,y.jsx)("input",(0,a.Z)({onFocus:n,className:g.inputData,type:"text",placeholder:"".concat(e," link")},o.getFieldProps("contacts.".concat(e))))]},e)}));return(0,y.jsxs)("form",{className:g.form,onSubmit:o.handleSubmit,children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("span",{className:g.value,children:"Name:"}),(0,y.jsx)("input",(0,a.Z)({onFocus:n,type:"text",placeholder:"Name"},o.getFieldProps("fullName")))]}),(0,y.jsxs)("ul",{children:[(0,y.jsxs)("li",{className:g.title,children:[(0,y.jsx)("span",{className:g.value,children:"About me:"}),(0,y.jsx)("input",(0,a.Z)({onFocus:n,type:"text",placeholder:"About me"},o.getFieldProps("aboutMe")))]}),(0,y.jsx)("li",{className:g.title,children:(0,y.jsxs)("label",{children:[(0,y.jsx)("span",{className:g.value,children:"Looking for job"}),(0,y.jsx)("input",(0,a.Z)({type:"checkbox",placeholder:"Looking for a job",checked:o.values.lookingForAJob},o.getFieldProps("lookingForAJob")))]})}),o.values.lookingForAJob&&(0,y.jsxs)("li",{className:g.title,children:[(0,y.jsx)("span",{className:g.value,children:"Job description:"}),(0,y.jsx)("input",(0,a.Z)({onFocus:n,type:"text",placeholder:"Job description"},o.getFieldProps("lookingForAJobDescription")))]}),(0,y.jsx)("li",{className:g.value,children:"Contacts:"}),(0,y.jsx)("ul",{children:i})]}),(0,y.jsx)("button",{className:"".concat(C.Z.button," ").concat(g.saveBtn),type:"submit",children:"Save"})]})};var M=function(e){var t=e.profile,s=e.status,a=e.isOwner,r=e.savePhoto,n=e.updateProfileStatus,o=e.updateProfileData,i=(0,u.v9)((function(e){return e.profilePage.error})),c=(0,u.I0)(),p=v((0,l.useState)(!1),2),f=p[0],h=p[1];return(0,y.jsxs)("div",{className:x,children:[(0,y.jsxs)("div",{className:_,children:[(0,y.jsx)("img",{className:P,src:t.photos.large||j,alt:"Avatar"}),a&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("label",{className:C.Z.button,children:["Upload avatar",(0,y.jsx)("input",{hidden:!0,type:"file",onChange:function(e){var t;null!==(t=e.target.files)&&void 0!==t&&t.length&&r(e.target.files[0]),c((0,d.Nf)(""))}})]}),i&&(0,y.jsx)("div",{className:b,children:i})]})]}),(0,y.jsxs)("div",{children:[f?(0,y.jsx)(E,{profile:t,setEditMode:h,updateProfileData:o}):(0,y.jsx)(D,{profile:t,updateProfileStatus:n,status:s}),a&&(f?(0,y.jsx)("button",{className:C.Z.button,onClick:function(){return h(!1)},children:"Back"}):(0,y.jsx)("button",{className:C.Z.button,onClick:function(){return h(!f)},children:"Edit Information"}))]})]})},J="Post_profileAvatar__oV4-V",T="Post_post__JldY-",O="Post_messagePost__He0qG",I="Post_bubbleWrapper__PHGUL",U="Post_messageText__NAbsn",V="Post_angle__r1hf6",L="Post_likeWrapper__Fe+Iq",B="Post_like__e9HzU",q="Post_countLike__+Vg-C";var G=function(e){var t=(0,u.v9)((function(e){return e.profilePage.profile.photos.small}));return(0,y.jsx)("div",{className:T,children:(0,y.jsxs)("div",{className:O,children:[(0,y.jsxs)("div",{className:L,children:[(0,y.jsx)("img",{className:J,src:t||j,alt:"Avatar"}),(0,y.jsx)("div",{className:B,children:"Like"}),(0,y.jsx)("div",{className:q,children:e.likesCount})]}),(0,y.jsxs)("div",{className:I,children:[(0,y.jsx)("div",{className:V}),(0,y.jsx)("span",{className:U,children:e.message})]})]})})},H="MyPosts_wrapper__yHKcB",W="MyPosts_customInput__nHiJU",K="MyPosts_newPost__Kjhjb",$=s(4967),z=s(6534),X=function(e){var t=e.addPost;return(0,y.jsx)(w.J9,{initialValues:{newPostText:""},onSubmit:function(e,s){t(e.newPostText),s.resetForm(),s.setSubmitting(!1)},validateOnBlur:!1,children:(0,y.jsxs)(w.l0,{className:K,children:[(0,y.jsx)(w.gN,{name:"newPostText",validate:(0,$.DT)(500),placeholder:"Type your post",children:function(e){return(0,y.jsx)(z.t,(0,a.Z)({ClassName:W,placeholder:"Type your post"},e))}}),(0,y.jsx)("button",{className:C.Z.button,type:"submit",children:"Send"})]})})};var Y=function(e){var t=e.postsData.map((function(e){return(0,y.jsx)(G,{id:e.id,message:e.message,likesCount:e.likesCount},e.id)}));return(0,y.jsxs)("div",{className:H,children:[(0,y.jsx)(X,{addPost:e.addPost}),(0,y.jsx)("div",{children:t})]})},Q=(0,u.$j)((function(e){return{postsData:e.profilePage.postData}}),(function(e){return{addPost:function(t){return e((0,d.q2)(t))}}}))(Y);var R=function(e){return(0,y.jsxs)("div",{className:h,children:[(0,y.jsx)(M,{profile:e.profile,updateProfileStatus:e.updateProfileStatus,savePhoto:e.savePhoto,status:e.status,isOwner:e.isOwner,updateProfileData:e.updateProfileData}),(0,y.jsx)(Q,{isOwner:e.isOwner})]})},ee=s(9271),te=function(e){(0,o.Z)(s,e);var t=(0,i.Z)(s);function s(){return(0,r.Z)(this,s),t.apply(this,arguments)}return(0,n.Z)(s,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authUserId.toString()),this.props.getUsersProfile(e),this.props.getProfileStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,s){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,y.jsxs)(y.Fragment,{children:[!this.props.profile&&(0,y.jsx)(c.p,{}),(0,y.jsx)(R,(0,a.Z)((0,a.Z)({},this.props),{},{isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto}))]})}}]),s}(l.Component),se=(0,f.qC)((0,u.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authUserId:e.auth.userId}}),{getUsersProfile:d.XG,getProfileStatus:d.TL,updateProfileStatus:d.vq,savePhoto:d.Ju,updateProfileData:d.y}),ee.EN,p.D)(te)},3169:function(e,t,s){e.exports=s.p+"static/media/noAvatar.e005b6fdc947a6e66d4e.png"},5987:function(e,t,s){s.d(t,{Z:function(){return r}});var a=s(3366);function r(e,t){if(null==e)return{};var s,r,n=(0,a.Z)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)s=o[r],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}}}]);
//# sourceMappingURL=89.375cff1d.chunk.js.map