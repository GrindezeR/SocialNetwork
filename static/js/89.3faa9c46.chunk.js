"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[89],{7929:function(e,t,s){s.d(t,{D:function(){return u}});var r=s(8683),a=s(5987),n=(s(2791),s(364)),o=s(9271),i=s(184),l=["isAuth"];function u(e){return(0,n.$j)((function(e){return{isAuth:e.auth.isAuth}}))((function(t){var s=t.isAuth,n=(0,a.Z)(t,l);return s?(0,i.jsx)(e,(0,r.Z)({},n)):(0,i.jsx)(o.l_,{to:"/login"})}))}},4967:function(e,t,s){s.d(t,{DT:function(){return r},ZA:function(){return a}});var r=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}},a=function(e,t,s){return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Email is required",e.password?e.password.length<s&&(t.password="Min length ".concat(s," characters")):t.password="Password required",t}},6534:function(e,t,s){s.d(t,{t:function(){return u}});var r=s(8683),a=s(5987),n=(s(2791),"FormsControls_error__kD7mL"),o="FormsControls_errorText__bBbMT",i=s(184),l=["form","field","ClassName","placeholder"],u=function(e){var t=e.form,s=t.touched,u=t.errors,c=e.field,d=e.ClassName,p=e.placeholder,f=(0,a.Z)(e,l),h=s&&u[c.name]?"".concat(d," ").concat(n):d;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("input",(0,r.Z)((0,r.Z)({placeholder:p,className:h},c),f)),(0,i.jsx)("div",{className:o,children:s&&u[c.name]})]})}},3089:function(e,t,s){s.r(t),s.d(t,{default:function(){return re}});var r=s(8683),a=s(5671),n=s(3144),o=s(136),i=s(5716),l=s(2791),u=s(364),c=s(7874),d=s(951),p=s(7929),f=s(7781),h="Profile_profileWallpaper__pAbkD";var m=s(181);function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var s=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var r,a,n=[],o=!0,i=!1;try{for(s=s.call(e);!(o=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);o=!0);}catch(l){i=!0,a=l}finally{try{o||null==s.return||s.return()}finally{if(i)throw a}}return n}}(e,t)||(0,m.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var j=s(3169),x="AboutProfile_wrapper__lmPEy",_="AboutProfile_avatarWrapper__x6aOz",P="AboutProfile_inputAvatar__+tEPR",b="AboutProfile_error__pvsV5",g="AboutProfile_profileAvatar__rBSGW",N={title:"ProfileData_title__m4LU0",value:"ProfileData_value__TkoCK",name:"ProfileData_name__e3Em9",form:"ProfileData_form__GF0hw",saveBtn:"ProfileData_saveBtn__xC2es"},y="ProfileStatus_status__rGEb2",k=s(184),A=function(e){(0,o.Z)(s,e);var t=(0,i.Z)(s);function s(){var e;(0,a.Z)(this,s);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={editMode:!1,inputValue:e.props.status},e.activateEdit=function(){e.setState({editMode:!0})},e.deactivateEdit=function(){e.setState({editMode:!1}),e.state.inputValue!==e.props.status&&e.props.updateProfileStatus(e.state.inputValue)},e.deactivateEditEnter=function(t){"Enter"===t.key&&e.deactivateEdit()},e}return(0,n.Z)(s,[{key:"componentDidUpdate",value:function(e,t){e.status!==this.props.status&&this.setState({inputValue:this.props.status})}},{key:"render",value:function(){var e=this;return(0,k.jsx)(k.Fragment,{children:this.state.editMode?(0,k.jsx)("input",{value:this.state.inputValue,autoFocus:!0,onBlur:this.deactivateEdit,onChange:function(t){e.setState({inputValue:t.currentTarget.value})},onKeyPress:this.deactivateEditEnter,onFocus:function(e){e.currentTarget.select()}}):(0,k.jsx)("span",{className:y,onDoubleClick:this.activateEdit,children:this.props.status||"No status"})})}}]),s}(l.PureComponent),F="ProfileContacts_title__XCebL",S="ProfileContacts_value__NejUU",D="ProfileContacts_link__b2S64",Z=function(e){var t=e.title,s=e.value;return(0,k.jsxs)("li",{className:F,children:[(0,k.jsxs)("span",{className:S,children:[t,":"]})," ",(0,k.jsx)("a",{className:D,href:s,rel:"noreferrer",target:"_blank",children:s})]})},C=function(e){var t=e.profile,s=e.status,r=e.updateProfileStatus,a=Object.keys(t.contacts).map((function(e){return(0,k.jsx)(Z,{title:e,value:t.contacts[e]},e)}));return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{className:N.name,children:[t.fullName,(0,k.jsx)(A,{status:s,updateProfileStatus:r})]}),(0,k.jsxs)("ul",{children:[(0,k.jsxs)("li",{className:N.title,children:[(0,k.jsx)("span",{className:N.value,children:"About Me:"})," ",t.aboutMe]}),(0,k.jsxs)("li",{className:N.title,children:[(0,k.jsx)("span",{className:N.value,children:"Looking for job:"}),t.lookingForAJob?"Yes":"No"]}),t.lookingForAJob&&(0,k.jsxs)("li",{className:N.title,children:[(0,k.jsx)("span",{className:N.value,children:"Description for job:"})," ",t.lookingForAJobDescription]}),(0,k.jsx)("li",{className:N.value,children:"Contacts:"}),(0,k.jsx)("ul",{children:a})]})]})},w=s(5705),E=function(e){var t=e.profile,s=e.updateProfileData,a=e.setEditMode,n=((0,u.v9)((function(e){return e.profilePage.error})),(0,u.I0)()),o=(0,w.TA)({initialValues:{fullName:t.fullName,aboutMe:t.aboutMe,lookingForAJob:t.lookingForAJob,lookingForAJobDescription:t.lookingForAJobDescription,contacts:t.contacts},onSubmit:function(e){s(e),o.resetForm(),n((0,d.Nf)("")),a(!1)}}),i=Object.keys(t.contacts).map((function(e){return(0,k.jsxs)("li",{className:N.title,children:[(0,k.jsxs)("span",{className:N.value,children:[e,":"]}),(0,k.jsx)("input",(0,r.Z)({onFocus:function(e){return e.currentTarget.select()},className:N.inputData,type:"text",placeholder:"".concat(e," link")},o.getFieldProps("contacts.".concat(e))))]})}));return(0,k.jsxs)("form",{className:N.form,onSubmit:o.handleSubmit,children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("span",{className:N.value,children:"Name:"}),(0,k.jsx)("input",(0,r.Z)({onFocus:function(e){return e.currentTarget.select()},type:"text",placeholder:"Name"},o.getFieldProps("fullName")))]}),(0,k.jsxs)("ul",{children:[(0,k.jsxs)("li",{className:N.title,children:[(0,k.jsx)("span",{className:N.value,children:"About me:"}),(0,k.jsx)("input",(0,r.Z)({onFocus:function(e){return e.currentTarget.select()},type:"text",placeholder:"About me"},o.getFieldProps("aboutMe")))]}),(0,k.jsx)("li",{className:N.title,children:(0,k.jsxs)("label",{children:[(0,k.jsx)("span",{className:N.value,children:"Looking for job"}),(0,k.jsx)("input",(0,r.Z)({type:"checkbox",placeholder:"Looking for a job",checked:o.values.lookingForAJob},o.getFieldProps("lookingForAJob")))]})}),o.values.lookingForAJob&&(0,k.jsxs)("li",{className:N.title,children:[(0,k.jsx)("span",{className:N.value,children:"Job description:"}),(0,k.jsx)("input",(0,r.Z)({onFocus:function(e){return e.currentTarget.select()},type:"text",placeholder:"Job description"},o.getFieldProps("lookingForAJobDescription")))]}),(0,k.jsx)("li",{className:N.value,children:"Contacts:"}),(0,k.jsx)("ul",{children:i})]}),(0,k.jsx)("button",{className:N.saveBtn,type:"submit",children:"Save"})]})};var T=function(e){var t=e.profile,s=e.status,r=e.isOwner,a=e.savePhoto,n=e.updateProfileStatus,o=e.updateProfileData,i=(0,u.v9)((function(e){return e.profilePage.error})),c=(0,u.I0)(),p=v((0,l.useState)(!1),2),f=p[0],h=p[1];return(0,k.jsxs)("div",{className:x,children:[(0,k.jsxs)("div",{className:_,children:[(0,k.jsx)("img",{className:g,src:t.photos.large||j,alt:"Avatar"}),r&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("input",{className:P,type:"file",onChange:function(e){var t;null!==(t=e.target.files)&&void 0!==t&&t.length&&a(e.target.files[0]),c((0,d.Nf)(""))}}),i&&(0,k.jsx)("div",{className:b,children:i})]})]}),(0,k.jsxs)("div",{children:[f?(0,k.jsx)(E,{profile:t,setEditMode:h,updateProfileData:o}):(0,k.jsx)(C,{profile:t,updateProfileStatus:n,status:s}),r&&(f?(0,k.jsx)("button",{onClick:function(){return h(!1)},children:"Back"}):(0,k.jsx)("button",{onClick:function(){return h(!f)},children:"Edit Information"}))]})]})},M="Post_profileAvatar__oV4-V",J="Post_post__JldY-",I="Post_messagePost__He0qG",O="Post_bubbleWrapper__PHGUL",U="Post_messageText__NAbsn",V="Post_angle__r1hf6",B="Post_likeWrapper__Fe+Iq",L="Post_like__e9HzU",q="Post_countLike__+Vg-C";var G=function(e){var t=(0,u.v9)((function(e){return e.profilePage.profile.photos.small}));return(0,k.jsx)("div",{className:J,children:(0,k.jsxs)("div",{className:I,children:[(0,k.jsxs)("div",{className:B,children:[(0,k.jsx)("img",{className:M,src:t||j,alt:"Avatar"}),(0,k.jsx)("div",{className:L,children:"Like"}),(0,k.jsx)("div",{className:q,children:e.likesCount})]}),(0,k.jsxs)("div",{className:O,children:[(0,k.jsx)("div",{className:V}),(0,k.jsx)("span",{className:U,children:e.message})]})]})})},H="MyPosts_wrapper__yHKcB",W="MyPosts_submitButton__qYTeQ",K="MyPosts_customInput__nHiJU",$="MyPosts_newPost__Kjhjb",Y=s(4967),z=s(6534),X=function(e){var t=e.addPost;return(0,k.jsx)(w.J9,{initialValues:{newPostText:""},onSubmit:function(e,s){t(e.newPostText),s.resetForm(),s.setSubmitting(!1)},validateOnBlur:!1,children:(0,k.jsxs)(w.l0,{className:$,children:[(0,k.jsx)(w.gN,{name:"newPostText",validate:(0,Y.DT)(5),placeholder:"Type your post",children:function(e){return(0,k.jsx)(z.t,(0,r.Z)({ClassName:K,placeholder:"Type your post"},e))}}),(0,k.jsx)("button",{className:W,type:"submit",children:"Send"})]})})};var Q=function(e){var t=e.postsData.map((function(e){return(0,k.jsx)(G,{id:e.id,message:e.message,likesCount:e.likesCount},e.id)}));return(0,k.jsxs)("div",{className:H,children:[(0,k.jsx)(X,{addPost:e.addPost}),(0,k.jsx)("div",{children:t})]})},R=(0,u.$j)((function(e){return{postsData:e.profilePage.postData}}),(function(e){return{addPost:function(t){return e((0,d.q2)(t))}}}))(Q);var ee=function(e){return(0,k.jsxs)("div",{className:h,children:[(0,k.jsx)(T,{profile:e.profile,updateProfileStatus:e.updateProfileStatus,savePhoto:e.savePhoto,status:e.status,isOwner:e.isOwner,updateProfileData:e.updateProfileData}),(0,k.jsx)(R,{})]})},te=s(9271),se=function(e){(0,o.Z)(s,e);var t=(0,i.Z)(s);function s(){return(0,a.Z)(this,s),t.apply(this,arguments)}return(0,n.Z)(s,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authUserId.toString()),this.props.getUsersProfile(e),this.props.getProfileStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,s){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,k.jsxs)(k.Fragment,{children:[!this.props.profile&&(0,k.jsx)(c.p,{}),(0,k.jsx)(ee,(0,r.Z)((0,r.Z)({},this.props),{},{isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto}))]})}}]),s}(l.Component),re=(0,f.qC)((0,u.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authUserId:e.auth.userId}}),{getUsersProfile:d.XG,getProfileStatus:d.TL,updateProfileStatus:d.vq,savePhoto:d.Ju,updateProfileData:d.y}),te.EN,p.D)(se)},3169:function(e,t,s){e.exports=s.p+"static/media/noAvatar.e005b6fdc947a6e66d4e.png"},5987:function(e,t,s){s.d(t,{Z:function(){return a}});var r=s(3366);function a(e,t){if(null==e)return{};var s,a,n=(0,r.Z)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)s=o[a],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}}}]);
//# sourceMappingURL=89.3faa9c46.chunk.js.map